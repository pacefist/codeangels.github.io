<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>JS: next level</title>

    <meta name="description" content="High Level Javascript languages">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../shared/css/reveal.min.css">
    <link rel="stylesheet" href="../shared/css/theme/default.css" id="theme">
    <link rel="stylesheet" href="../shared/css/additional.css">
    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="../shared/lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="../shared/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="../shared/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
<script>document.write('<script src="http://' + (location.host || 'localhost')
.split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1>JS: Next Level</h1>
          <p class="text-left">There're a lot of tools that extend JS possibilities, like libs that modify standard objects, etc. But some people wanted to do something so different, they created their own language, that compiles (or better said <i>transpiles</i>) into javascript.</p>
        </section>
        <section>
          <h2>Why would they do this?</h2>
          <h2>There're several reasons</h2>
          <ol>
            <li class="fragment">To introduce some <abbr title='syntax within a programming language that is designed to make things easier to read or to express' class='dotted'>syntactic sugar</abbr>, like <a href="http://coffeescript.org/">CoffeeScript</a> </li>
            <li class="fragment">To introduce <abbr class="dotted" title='data types (such as integer, character, hexadecimal, packed decimal, and so forth) is predefined as part of the programming language and all constants or variables defined for a given program must be described with one of the data types'>strong typing</abbr> , like <a href="www.typescriptlang.org/‎">Typescript</a> or <a href="www.dartlang.org/‎">Dart</a></li>
            <li class="fragment">To write javascript in your favourite language: <a href="opalrb.org/‎">Opal</a> - Ruby, <a href="http://pyjs.org/">Pyjamas</a> - Python, <a href="https://github.com/fglock/Perlito">Perlito</a> - Perl, <a href="https://github.com/kless/go2js">Go2js</a> - Go, and ton of others</li>
          </ol>
        </section>
        <section>
          <h1>Coffeescript</h1>
          <p>Check out
              <a href="http://www.amazon.com/CoffeeScript-Accelerated-Development-Trevor-Burnham/dp/1934356786">CoffeeScript: Accelerated JavaScript Development</a> by Trevor Burnham <br/> or <br/>
              <a href="http://arcturo.github.io/library/coffeescript/">Little book on CoffeScript</a>
          </p>
        </section>
        <section>
          <h1>Main concepts</h1>
          <ul class="plain-list">
            <li>Eliminate JS <a href="http://www.oreillynet.com/pub/a/javascript/excerpts/javascript-good-parts/awful-parts.html">awful</a> & <a href="http://oreilly.com/javascript/excerpts/javascript-good-parts/bad-parts.html">bad</a> parts</li>
            <li class="fragment">Get rid of all <span class="inline-code">{}</span>, <span class="inline-code">[]</span> brackets (mostly) and semicolons </li>
            <li class="fragment">Introduce some sugar for loops, Classes, etc.</li>
          </ul>
        </section>
        <section>
          <h2>Some JS code</h2>
<pre><code data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {

    var nodes = document.querySelectorAll( selector );

    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];

      if( !node.className ) ) {
        node.className += ' roll';
      }
    };
  }
}
          </code></pre>
        </section>
        <section>
          <h2>Translated to Coffee</h2>
          <pre><code data-trim contenteditable>
linkify = (selector) ->
  if supports3DTransforms
    nodes = document.querySelectorAll(selector)
    for node in nodes
      className += " roll"  unless node.className
          </code></pre>
        </section>
        <section>
          <h2>How to run program written in coffee?</h2>
          <ul class="plain-list">
            <li>via <a href="http://coffeescript.org/">online sandbox</a> </li>
            <li class="fragment">in your browser <a href="https://chrome.google.com/webstore/detail/coffeeconsole/ladbkfdlnaibelfidknofapbbdlhadfp?hl=en">coffee console</a></li>
            <li class="fragment">in your REPL console (<a href="https://npmjs.org/package/coffee-script">coffee</a> -i)</li>
            <li class="fragment">letting serverside handle this (<a href="https://github.com/sstephenson/sprockets">Sprocket</a>, <a href="https://github.com/gruntjs/grunt-contrib-coffee">Grunt</a>, <a href="https://npmjs.org/package/coffee-script">coffee</a>)</li>
            <li class="fragment">using some GUI/browser extension (<a href="http://alphapixels.com/prepros/">Prepros</a>, <a href="http://koala-app.com/">Koala</a>)</li>
            <li class="fragment">using "text/coffeescript" Script Tags (with this <a href="http://coffeescript.org/extras/coffee-script.js">lib</a>)</li>
          </ul>
          <a class="fragment" href="http://blog.paracode.com/2012/02/15/build-mgmt-javascript-coffeescript/">Related reading</a>
        </section>
        <section class="stack">
          <section>
            <h1>Syntax</h1>
          </section>
          <section>
            <h1>Comments</h1>
<pre class='narrow'><code data-trim >
# Single line comment, can be used
# to show the result
Trim2('LOL') #=> L
###
Multi-line comments. These are
transpiled into
regular js comments
###
</code></pre>
<pre class='narrow'><code>


/*
Multi-line comments. These are
transpiled into
regular js comments
*/
</code></pre>
          </section>
          <section>
            <h1>Variables and scope</h1>
            <p>Coffee fix the problem of global variables - all of them
              are local by default.
            </p>
            <pre class="narrow"><code data-trim>
x = 2 # global by scope
window.y = 3 # explicitly global
o = 0 # defined outside the closure
do ->
    for x in [1..3]
      o = o + x
      u = u + x # defined in closure
console.log o, u # => 6 NaN
            </code></pre>
            <pre class="narrow"><code data-trim>
var o, x;
x = 2;
window.y = 3;
o = 0;
(function() {
  var u, x, _i, _results;
  _results = [];
  for (x = _i = 1; _i <= 3; x = ++_i) {
    o = o + x;
    _results.push(u = u + x);
  }
  return _results;
})();
console.log(o, u);
            </code></pre>
          </section>
          <section>
            <h1>Function: -> & => </h1>

<pre class="narrow"><code data-trim contenteditable>
x = -> 'x'
</code></pre>
<pre class="narrow fragment"><code data-trim>
var x;

x = function() {
  return 'x';
};
</code></pre>
<div class="fragment">
  <pre class="narrow"><code data-trim>
sampleObj =
  sum: (a, b) -> [a + b, this],
  mult: (a, b) => [a * b, this]
sampleObj.sum(2, 3) # => [5, Object]
sampleObj.mult(2, 3) # => [6, Window]
</code></pre>
<pre class="narrow fragment"><code data-trim>
var sampleObj,
  _this = this;
sampleObj = {
  sum: function(a, b) {
    return [a + b, this];
  },
  mult: function(a, b) {
    return [a * b, _this];
  }
};
sampleObj.sum(2, 3);
sampleObj.mult(2, 3);
</code></pre>
          </section>
          <section>
            <h1>Function arguments</h1>
<pre class="narrow"><code data-trim>
# setting default values
sumMagicNumber = (a, b = 42) ->
  a + b
sumMagicNumber(2) # => 44
sumMagicNumber(2, 2) # => 4
</code></pre>
<pre class="narrow"><code data-trim>
var sumMagicNumber;
sumMagicNumber = function(a, b) {
  if (b == null) {
    b = 42;
  }
  return a + b;
};
</code></pre>
<div class="fragment">
  <pre class="narrow"><code data-trim>
# 'splat' operator to convert to array
log = (args...) ->
  console.log(args.join(' & '))
log 1,2, [3, 4] # -> 1 & 2 & 3,4
log 1,2, [3, 4]... # -> 1 & 2 & 3 & 4
  </code></pre>
  <pre class="narrow"><code data-trim>
var log,
  __slice = [].slice;
log = function() {
  var args;
  args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
  return console.log(args.join(' & '));
};
  </code></pre>
</div>
          </section>
          <section>
  <pre><code data-trim>
# COMBINE!
log = (args..., where = console) ->
  where.log(args.join(' & '))
log 1, 2, console # -> 1 & 2
log 1, 2, {log: (data) -> alert data}
log 1 # TypeError: Object 1 has no method 'log'
  </code></pre>
          </section>
          <section>
            <h1>Closures</h1>
<pre class="narrow"><code data-trim>
do ->
  x = 1
  console.log 'inside ', x
console.log 'outside', x
</code></pre>
<pre class="narrow"><code data-trim>
(function() {
  var x;
  x = 1;
  return console.log('inside ', x);
  # -> inside 1
})();
console.log('outside', x);
# -> x is not defined
</code></pre>
<div class="fragment">
<pre class="narrow"><code data-trim>
  do ($ = jQuery) ->
    # your code here
</code></pre>
<pre class="narrow"><code data-trim>
(function($) {})(jQuery);
</code></pre>
</div>
          </section>
          <section>
            <h1>Object notation</h1>
            <pre class="narrow"><code contenteditable data-trim>
x =
  a: b
  c: d
  e:
    f: ->
    h: i
  j: {k: l}
            </code></pre>
            <pre class="narrow"><code data-trim>
var x;
x = {
  a: b,
  c: d,
  e: {
    f: function() {},
    h: i
  },
  j: {
    k: l
  }
};

            </code></pre>
            <pre class="narrow fragment"><code data-trim>
x = {key, value}
            </code></pre>
            <pre class="narrow fragment"><code data-trim>
var x;
x = {
  key: key,
  value: value
};
            </code></pre>
          </section>
          <section>
            <h1>Array notation</h1>
<pre><code data-trim contenteditable>
array1 = [1, 2, 3] # array1 = [1, 2, 3];

array2 = [
  1
  2
  3
] # array2 = [1, 2, 3];

array3 = [1,2,3,] # array3 = [1, 2, 3];
</code></pre>
          </section>
          <section >
<pre class='narrow'><code data-trim>
  range = [1..100]
  # => [1, 2, 3,..., 99, 100]
</code></pre>
<pre class="narrow fragment"><code class='comments' data-trim>
  var range, _i, _results;

range = (function() {
  _results = [];
  for (_i = 1; _i <= 100; _i++) {
   _results.push(_i); }
  return _results;
}).apply(this);

</code></pre>
<div class="fragment">
  <pre><code data-trim>
range[48 .. -48] # => [49, 50, 51, 52, 53]
###
  Transpiled to:
  range.slice(48, -47)
###
  </code></pre>
</div>
          </section>
          <section>
          <h2>Replace part of array using []</h2>

  <pre><code data-trim>
# Not as expected
range[48..-48] = 'Nothing here' # => 'Nothing here'
range[45 .. -48] # => [46, 47, 48, "Nothing here", 49, 50, 51, 52, 53]
</code></pre>
<pre class='fragment'><code data-trim >
###
Transpiled to:
[].splice.apply(range, [48, (-48) - 48 + 1]
  .concat('Nothing here')), 'Nothing here';
Arguments applied to slice are [48, -95, "Nothing here"]
###
  </code></pre>

<div class="fragment">
  <pre><code data-trim>
  # Just as expected
    range[48..54] = 'Nothing here'
    # => 'Nothing here'
    range[45 .. 54]
    # => [46, 47, 48, "Nothing here", 56, 57, 58, 59, 60, 61]
  </code></pre>
  <pre class="fragment"><code class="comments">
   console.log(([].splice.apply(range, [48, 7].concat('Nothing here')), 'Nothing here'));
   // arguments are [48, 7, "Nothing here"]
   </code></pre>
</div>
          </section>
          <section>
            <h2>Controlling execution</h2>
<pre><code contenteditable data-trim>
if true then console.log('truthy') # => truthy
</code></pre>
<pre class='fragment'><code contenteditable data-trim>
unless false
  console.log('not falsy') # => not falsy
</code></pre>
<pre class='fragment'><code contenteditable data-trim>
x = if a then 2 else 3
</code></pre>
<pre class='fragment'><code contenteditable data-trim>
if something
  doSomething()
  andDoSomething()
else
  doNothing()
</code></pre>
<pre class="fragment"><code contenteditable data-trim>
console.log "condition wasn't met" unless conditon
</code></pre>
<pre class='fragment'><code contenteditable data-trim>
# can be puzzling, better to avoid
unless something
  doNothing()
else
  doSomething()
  andDoSomething()
</code></pre>


          </section>
          <section>
            <h2>Using break,continue,return</h2>
<p>They can be used just like in JS</p>
<pre><code data-trim>
console.log('outside of closure')
do ->
  console.log('inside of closure')
  for item in [1...10]
    # continue if item is 3 # -> skips current loop step
    # break if item is 3 # -> exits loop
    # return if item is 3  # -> exits closure
    console.log(item)
  console.log('exiting closure')
</code></pre>
          </section>
          <section>
            <h1>String interpolation</h1>
            <pre><code contenteditable data-trim>
"Hello, #{name}"
"""
This string will
#{if cond then 'always' else 'never'}
be a sample of interpolation
"""
"So, #{name}, #{getTranslationFor('chao')}"
            </code></pre>
          </section>
          <section>
            <h1>Loops</h1>
<pre><code data-trim contenteditable>
console.log x * 2 for x in [1..10] # => 2, 4, 6,..., 20
items = ["Hat", "Man", "Panama"]
for item, index in items
  console.log "Item ##{index} is #{item}"
###
Item #0 is Hat
Item #1 is Man
Item #2 is Panama
###
</code></pre>
<pre class='fragment'><code data-trim contenteditable>
price = -> (100 * Math.random()).toFixed(2)
sell = (item) -> console.log "selling #{item} for #{ price() }$"
sell item for item in items when item isnt 'Man'
###
selling Hat for 79.66$
selling Panama for 3.08$
###
</code></pre>

          </section>
          <section>
            <h2>Looping through object's properties</h2>
<pre><code data-trim contenteditable>
obj = new Object()
obj.x = 3
Object::z = 2
for key, value of obj
  console.log key # => x, z
for own key, value of obj
  console.log key # => x
</code></pre>
          </section>
          <section>
            <h1>Aliases and ? operaror</h1>
            <ul class='plain-list'>
              <li><span class="inline-code">@</span> = <span class="inline-code">this</span></li>
              <li class='fragment'><span class="inline-code">::</span> = <span class="inline-code">prototype</span></li>
              <li class='fragment'><span class="inline-code">?</span> = check for undefined/null</li>
            </ul>
<pre class='fragment'><code data-trim contenteditable>
@someObj::exist = (key) ->
  @someObj[key]?
</code></pre>
          </section>
        </section>
        <section>
          <section>
            <h1>Classes</h1>
          </section>
          <section>
            <h1>Class inheritance</h1>
            <pre><code data-trim>
class Creature
class Person extends Creature
peter = new Person
console.log peter, peter instanceof Creature, peter instanceof Person
# -> Person {__proto__: ...}, true, true
            </code></pre>
          </section>
          <section>
          <h2>Private/static/dynamic methods</h2>
          <pre><code data-trim contenteditable>
class Test
  say = (msg) -> alert msg
  @echo = (msg) -> console.log msg
  setHi: (msg) ->
    @hi = -> console.log "#{msg}, stranger"

myTest = new Test

Test.say "Something" # TypeError: Object function Test() {}
                     # has no method 'say'
myTest.say 'something' # TypeError: ...
Test.echo('Echo test') # => Echo test
myTest.echo('Take two') # TypeError
Test.setHi 'ola' # => TypeError
myTest.setHi 'ola' # => function
Test.hi() # TypeError
myTest.hi() # => ola, stranger
          </code></pre>
          </section>
          <section>
            <h1>super & extends </h1>
<pre><code contenteditable>
class Animal
  constructor: (@species) ->

  extinct: -> false

class Cow extends Animal
  constructor: ->
    super

  endangeredMessage:
    if @extinct? then 'Save them!' else 'Eat them!'
</code></pre>
          </section>
        </section>
        <section>
          <h2>I'll have sugar with my coffee</h2>
          <ul>
            <li>ES5's <span class="inline-code">items.forEach(fn)</span> ~ <span class="inline-code">fn(item) for item in items</span></li>
            <li>ES5's <span class="inline-code">xs.map(fn)</span> ~ <span class="inline-code">(fn(x) for x in xs)</span>
            <pre><code data-trim>
              var result = items.map(function(item, i){
return item.name})
              equal to
result = (item.name for item in items)
            </code></pre>
            </li>
            <li>ES5's filter ~ for .. when</li>
            <li><span class="inline-code">(xs.indexOf(y) != -1)</span> ~ <span class="inline-code">y in xs</span></li>
            <li><span class="inline-code">and, or, or=, ?=</span></li>
            <li>Destructive assignment <span class="inline-code">[a, b] = [1, 2]</span>, 
            <span class="inline-code">{a, b} ={a: 1, b: 2}</span>
            </li>
            <li><span class="inline-code">$ -></span> ~ <span class="inline-code">$(function() {});</span></li>

          </ul>
        </section>
        <section>
          <a href="http://ricardo.cc/2011/06/02/10-CoffeeScript-One-Liners-to-Impress-Your-Friends.html">10-CoffeeScript-One-Liners-to-Impress-Your-Friends</a>
          <a href="http://dev.hubspot.com/blog/coffeescript-tricks">CoffeeScript Tricks</a>
        </section>
        <section>
          <h1>Source maps</h1>
        </section>
        <section>
          <h1>Fun time</h1>
          <p class="text-left">Create a Utils module, that would pass the specs. Class Logger with public method log and with padding/format, maybe some sort of interface for method. </p>

        </section>
        <!-- Typescript is hidden, for time being
        <section>
          <h1>TypeScript</h1>
          <p>Check out
           <a href="http://www.syncfusion.com/resources/techportal/ebooks/typescript">TypeScript Succinctly</a> by Steve Fento <br/> or <br/>
           <a href="http://www.amazon.com/TypeScript-Revealed-Dan-Maharry/dp/1430257253">TypeScript Revealed</a> by Dan Maharry
          </p>
        </section>
        <section>
           <h2>How to run program written in typescript?</h2>
          <ul class="plain-list">
            <li>via <a href="http://www.typescriptlang.org/Playground/">online sandbox</a></li>

            <li class="fragment">in your browser using <a href="https://github.com/choudeshell/TypeScript-Console">typescript console</a> ~ not sure, how good it is.</li>
            <li class="fragment">in console REPL <a href="https://npmjs.org/package/tsi">using `tsi` package</a> or some fancy <a href="http://mnajder.blogspot.com/2012/10/typescript-interactive-in-visual-studio.html">VS REPL</a></li>
            <li class="fragment">letting serverside handle this (<a href="https://github.com/antage/sprockets-typescript">Sprocket</a>, <a href="https://github.com/k-maru/grunt-typescript">Grunt</a>, <a href="https://https://npmjs.org/package/typescript">typescript</a>)</li>
            <li class="fragment">usning some GUI/browser extension (<a href="http://www.microsoft.com/en-us/download/details.aspx?id=34790">Visual Studio</a>,<a href="http://www.jetbrains.com/idea/webhelp/transpiling-typescript-to-javascript.html">Jetbrains' IDE</a>)</li>
            <li class="fragment">using "text/typescript" Script Tags (with this <a href="https://github.com/niutech/typescript-compile">lib</a>)</li>
          </ul>
        </section>
        <section>
        </section>
        <section>
          <h2>Intergalactic Interconnections</h2>
          <p>
            You can link between slides internally,
            <a href="#/1">like this</a>.
          </p>
        </section>


        <section>
          <h2>Stellar Links</h2>
          <ul>
            <li><a href="http://slid.es">Try the online editor</a></li>
            <li><a href="https://github.com/hakimel/reveal.js">Source code on GitHub</a></li>
            <li><a href="http://twitter.com/hakimel">Follow me on Twitter</a></li>
          </ul>
        </section>
         -->
      </div>

    </div>

    <script src="../shared/lib/js/head.min.js"></script>
    <script src="../shared/js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: '../shared/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '../shared/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../shared/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../shared/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: '../shared/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: '../shared/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
